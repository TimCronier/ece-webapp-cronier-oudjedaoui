(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[260],{22807:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/createArticle",function(){return n(93005)}])},93005:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var s=n(47568),r=n(70655),a=n(85893),l=n(84053),u=n(11163),i=n(67294);function c(e){var t=(0,l.useSession)(),n=(0,l.useSupabaseClient)();(0,u.useRouter)();var c=(0,i.useState)("You must be connected !"),o=c[0],d=c[1],h=(0,i.useState)("You must be connected !"),f=h[0],x=h[1],b=(0,i.useState)("You must be connected !"),p=b[0],m=b[1],g=(0,i.useState)("0 (100 max)"),j=g[0],_=g[1],v=(0,i.useState)("0 (1000 max)"),S=v[0],C=v[1],w=(0,i.useState)(!0),k=w[0],y=w[1];function T(){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(function(){var e;return(0,r.__generator)(this,function(s){switch(s.label){case 0:if(!(o&&f&&p))return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.from("articles").insert({author_id:t.user.id,content:o,title:f,source:p,created_at:new Date().toISOString()})];case 2:return s.sent(),alert("Your article is uploaded !"),[3,4];case 3:return e=s.sent(),console.log(e),[3,4];case 4:return d(null),x(null),m(null),[3,6];case 5:alert("You must fill every field !"),s.label=6;case 6:return[2]}})})).apply(this,arguments)}return(0,i.useEffect)(function(){t&&k&&(d(null),x(null),m(null),y(!1))}),(0,a.jsx)("div",{class:"globalWrapper",children:(0,a.jsxs)("div",{class:"writeCommentWrapper",children:[(0,a.jsx)("span",{style:{fontSize:"30px",fontWeight:"600"},children:"Title :"}),(0,a.jsx)("textarea",{value:f||"",disabled:!t,onChange:function(e){_(e.target.value.length+" (max 100)"),x(e.target.value)},maxlength:"100",class:"writeArticleTitle"}),(0,a.jsx)("p",{class:"countChar",children:j}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{style:{fontSize:"30px",fontWeight:"600"},children:"Content :"}),(0,a.jsx)("br",{}),(0,a.jsx)("textarea",{value:o||"",disabled:!t,onChange:function(e){C(e.target.value.length+" (max 1000)"),d(e.target.value)},maxlength:"1000",class:"writeArticleContent"}),(0,a.jsx)("p",{class:"countChar",children:S}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{style:{fontSize:"30px",fontWeight:"600"},children:"Image source :"}),(0,a.jsx)("textarea",{value:p||"",disabled:!t,onChange:function(e){return m(e.target.value)},class:"writeArticleTitle"}),(0,a.jsx)("br",{}),e.darkMode?(0,a.jsx)("button",{disabled:!t,onClick:function(e){T()},class:t?"submitForm":"submitFormDisabled",children:(0,a.jsx)("span",{children:"SUBMIT"})}):(0,a.jsx)("button",{disabled:!t,onClick:function(e){T()},class:t?"submitFormDark":"submitFormDisabledDark",children:(0,a.jsx)("span",{children:"SUBMIT"})})]})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=22807)}),_N_E=e.O()}]);