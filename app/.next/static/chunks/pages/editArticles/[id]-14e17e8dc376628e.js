(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[645],{611:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editArticles/[id]",function(){return n(94867)}])},94867:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return o},default:function(){return d}});var s=n(47568),r=n(70655),a=n(85893),i=n(84053),u=n(11163),c=n(67294),l=n(77401),o=!0;function d(e){var t=e.post,n=(0,i.useSession)(),o=(0,u.useRouter)(),d=(0,c.useState)("You must be connected !"),f=d[0],h=d[1],p=(0,c.useState)("You must be connected !"),x=p[0],b=p[1],m=(0,c.useState)("You must be connected !"),j=m[0],g=m[1],_=(0,c.useState)("0 (100 max)"),y=_[0],I=_[1],v=(0,c.useState)("0 (1000 max)"),S=v[0],w=v[1],C=(0,c.useState)(!1),N=C[0],E=C[1],z=(0,c.useState)(!0),Y=z[0],T=z[1];function k(){return(k=(0,s.Z)(function(){var e;return(0,r.__generator)(this,function(n){switch(n.label){case 0:if(!(f&&x&&j))return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,l.Z.from("articles").upsert({id:t.id,content:f,title:x,source:j})];case 2:return n.sent(),alert("Your article is modified !"),[3,4];case 3:return e=n.sent(),console.log(e),[3,4];case 4:return o.push("/profile"),h(null),b(null),g(null),[3,6];case 5:alert("You must fill every field !"),n.label=6;case 6:return[2]}})})).apply(this,arguments)}return(0,c.useEffect)(function(){n&&Y&&(n.user.id===t.author_id?(b(t.title),h(t.content),g(t.source),E(!0),T(!1)):(b("You can't modify an article that isn't yours !"),h("You can't modify an article that isn't yours !"),g("You can't modify an article that isn't yours !")))}),(0,a.jsx)("div",{class:"globalWrapper",children:(0,a.jsxs)("div",{class:"writeCommentWrapper",children:[(0,a.jsx)("span",{style:{fontSize:"30px",fontWeight:"600"},children:"Title :"}),(0,a.jsx)("textarea",{value:x||"",disabled:!N,onChange:function(e){I(e.target.value.length+" (max 100)"),b(e.target.value)},maxlength:"100",class:"writeArticleTitle"}),(0,a.jsx)("p",{class:"countChar",children:y}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{style:{fontSize:"30px",fontWeight:"600"},children:"Content :"}),(0,a.jsx)("br",{}),(0,a.jsx)("textarea",{value:f||"",disabled:!N,onChange:function(e){w(e.target.value.length+" (max 1000)"),h(e.target.value)},maxlength:"1000",class:"writeArticleContent"}),(0,a.jsx)("p",{class:"countChar",children:S}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{style:{fontSize:"30px",fontWeight:"600"},children:"Image source :"}),(0,a.jsx)("textarea",{value:j||"",disabled:!N,onChange:function(e){return g(e.target.value)},class:"writeArticleTitle"}),(0,a.jsx)("br",{}),(0,a.jsx)("button",{disabled:!N,onClick:function(e){!function(){return k.apply(this,arguments)}()},class:N?"submitForm":"submitFormDisabled",children:(0,a.jsx)("span",{children:"EDIT"})})]})})}},77401:function(e,t,n){"use strict";var s=n(49802);t.Z=(0,s.eI)("https://sdwgogzjpprnyxjqrnua.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNkd2dvZ3pqcHBybnl4anFybnVhIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzE5MzAwNTcsImV4cCI6MTk4NzUwNjA1N30.6PEfDNipGLEmb9P2-Sbt-qpZJDaT79oH839d9x_bVOM")}},function(e){e.O(0,[774,888,179],function(){return e(e.s=611)}),_N_E=e.O()}]);